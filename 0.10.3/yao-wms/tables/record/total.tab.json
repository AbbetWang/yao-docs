{
  "name": "记录",
  "action": {
    "bind": {
      "model": "record",
      "option": {
        "withs": {
          "user": { "query": { "select": ["id", "name", "photo"] } },
          "plan": { "query": { "select": ["id", "name"] } },
          "warehouse": { "query": { "select": ["id", "name"] } },
          "sku": {
            "query": {
              "select": ["id", "specs"],
              "withs": {
                "material": { "query": { "select": ["name", "id"] } }
              }
            }
          }
        },
        "form": "record.total"
      }
    },
    "after:search": "scripts.sku.WithsAfterSearch",
    "before:save": "scripts.record.BeforeSave",
    "after:save": "scripts.record.AfterSave",
    "search": {
      "default": [
        {
          "withs": {
            "user": { "query": { "select": ["id", "name", "photo"] } },
            "plan": { "query": { "select": ["id", "name"] } },
            "warehouse": { "query": { "select": ["id", "name"] } },
            "sku": {
              "query": {
                "select": ["id", "specs"],
                "withs": {
                  "material": { "query": { "select": ["name", "id"] } }
                }
              }
            }
          },
          "orders": [{ "column": "uptime", "option": "desc" }]
        },
        null,
        10
      ]
    }
  }
}
